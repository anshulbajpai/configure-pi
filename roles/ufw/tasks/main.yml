- name: install ufw
  become: yes
  apt:
    name: ufw
    state: present
    update_cache: yes
    force_apt_get: yes
- name: ufw deny default in 
  become: yes
  ufw:
    default: deny
    direction: incoming
- name: allow ssh in 
  become: yes
  ufw:
    rule: allow
    direction: in
    proto: tcp
    port: '22'
- name: limit ssh in 
  become: yes
  ufw:
    rule: limit
    direction: in
    proto: tcp
    port: '22'
- name: enable ufw 
  become: yes
  ufw:
    state: enabled
